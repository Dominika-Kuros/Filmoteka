var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},t={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in a)return a[e].exports;if(e in t){var n=t[e];delete t[e];var i={id:e,exports:{}};return a[e]=i,n.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,a){t[e]=a},e.parcelRequired7c6=n),n("ibbFR");var i=n("g1uI7");i=n("g1uI7");const r=JSON.parse(localStorage.getItem("queue")),o=JSON.parse(localStorage.getItem("watched")),c=document.querySelector("#queue-btn"),s=document.querySelector("#watched-btn");function d(e,a=2){const t=document.querySelector("#library-gallery");t.innerHTML="",e.forEach((async e=>{const n=(await async function(e){const a=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=3453ae595a5d53cbc877c6d05de8a002`);return(await a.json()).genres}(e.id)).map((e=>e.name)),i=(n.length>a?n.slice(0,a).concat(["other"]):n).join(", "),r=`\n      <div data-id=${e.id} class="movie-card">\n        <div class="movie-card__placeholder"><img class="movie-card__image" src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="${e.title}" width="395" height="574"></div>\n        <h2 class="movie-card__tittle">${e.title}</h2>\n        <p class="movie-card__info"> \n        <span class="movie-card__overview">${i}</span> | <span class="movie-card__realease-date">${e.release_date.slice(0,4)}\n    `;t.insertAdjacentHTML("beforeend",r)})),t.addEventListener("click",(e=>{null!==e.target.closest(".movie-card")&&(showLoader(),showModal(),l(e.target.closest(".movie-card").dataset.id).then((e=>{renderModal(e),removeLoader()})))}))}c.addEventListener("click",(async()=>{let e=await u(r);d(e),(0,i.createPagination)(e,"library")})),s.addEventListener("click",(async()=>{let e=await u(o);d(e),(0,i.createPagination)(e,"library")}));const l=async e=>{try{const a=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=964358699754c21d74c014b561cf196c&language=en-US`);return await a.json()}catch(e){console.log(e)}};async function u(e){return await Promise.all(e.map((async e=>await l(e))))}
//# sourceMappingURL=library.e3debdad.js.map
