var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in a){var i=a[e];delete a[e];var o={id:e,exports:{}};return t[e]=o,i.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},e.parcelRequired7c6=i),i("ibbFR");var o=i("fHyLY"),r=i("40lI0"),s=i("g1uI7"),n=i("i1JLZ");s=i("g1uI7"),o=i("fHyLY"),r=i("40lI0");const c=document.querySelector("#queue-button"),l=document.querySelector("#watched-button");l.classList.add("is-active");async function d(){const e=JSON.parse(localStorage.getItem("watched"));let t=await v(e);u(t);const a={total_results:t.length};(0,s.createPagination)(a,"library"),(0,o.removeLoader)()}function u(e,t=2){const a=document.querySelector("#library-gallery");a.innerHTML="",e.forEach((async e=>{const i=(await(0,n.getGenres)(e.id)).map((e=>e.name)),o=(i.length>t?i.slice(0,t).concat(["other"]):i).join(", "),r=`\n      <div data-id=${e.id} class="movie-card">\n        <div class="movie-card__placeholder"><img class="movie-card__image" src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="${e.title}" width="395" height="574"></div>\n        <h2 class="movie-card__tittle">${e.title}</h2>\n        <p class="movie-card__info"> \n        <span class="movie-card__overview">${o}</span> | <span class="movie-card__realease-date">${e.release_date.slice(0,4)}\n    `;a.insertAdjacentHTML("beforeend",r)})),a.addEventListener("click",(e=>{null!==e.target.closest(".movie-card")&&((0,o.showLoader)(),(0,r.showModal)(),(0,r.fetchMovieById)(e.target.closest(".movie-card").dataset.id).then((e=>{(0,r.showModal)(e),(0,r.renderModal)(e),(0,o.removeLoader)()})))}))}async function v(e){return await Promise.all(e.map((async e=>await(0,r.fetchMovieById)(e))))}c.addEventListener("click",(()=>{c.classList.add("is-active"),l.classList.remove("is-active"),async function(){const e=JSON.parse(localStorage.getItem("queue"));let t=await v(e);u(t);const a={total_results:t.length};(0,s.createPagination)(a,"library"),(0,o.removeLoader)()}()})),l.addEventListener("click",(()=>{c.classList.remove("is-active"),l.classList.add("is-active"),d()})),d();
//# sourceMappingURL=library.c62bb77b.js.map
