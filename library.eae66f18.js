var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},t={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in a)return a[e].exports;if(e in t){var o=t[e];delete t[e];var r={id:e,exports:{}};return a[e]=r,o.call(r.exports,r,r.exports),r.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,a){t[e]=a},e.parcelRequired7c6=o),o("ibbFR");var r=o("fHyLY"),n=o("40lI0"),i=o("g1uI7");i=o("g1uI7"),r=o("fHyLY"),n=o("40lI0");const c=JSON.parse(localStorage.getItem("queue")),s=JSON.parse(localStorage.getItem("watched")),d=document.querySelector("#queue-btn"),l=document.querySelector("#watched-btn");function u(e,a=2){const t=document.querySelector("#library-gallery");t.innerHTML="",e.forEach((async e=>{const o=(await async function(e){const a=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=3453ae595a5d53cbc877c6d05de8a002`);return(await a.json()).genres}(e.id)).map((e=>e.name)),r=(o.length>a?o.slice(0,a).concat(["other"]):o).join(", "),n=`\n      <div data-id=${e.id} class="movie-card">\n        <div class="movie-card__placeholder"><img class="movie-card__image" src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="${e.title}" width="395" height="574"></div>\n        <h2 class="movie-card__tittle">${e.title}</h2>\n        <p class="movie-card__info"> \n        <span class="movie-card__overview">${r}</span> | <span class="movie-card__realease-date">${e.release_date.slice(0,4)}\n    `;t.insertAdjacentHTML("beforeend",n)})),t.addEventListener("click",(e=>{null!==e.target.closest(".movie-card")&&((0,r.showLoader)(),(0,n.showModal)(),m(e.target.closest(".movie-card").dataset.id).then((e=>{(0,n.showModal)(e),(0,n.renderModal)(e),(0,r.removeLoader)()})))}))}d.addEventListener("click",(async()=>{let e=await p(c);u(e),(0,i.createPagination)(e,"library"),(0,r.removeLoader)()})),l.addEventListener("click",(async()=>{let e=await p(s);u(e),(0,i.createPagination)(e,"library"),(0,r.removeLoader)()}));const m=async e=>{try{const a=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=964358699754c21d74c014b561cf196c&language=en-US`);return await a.json()}catch(e){console.log(e)}};async function p(e){return await Promise.all(e.map((async e=>await m(e))))}
//# sourceMappingURL=library.eae66f18.js.map
