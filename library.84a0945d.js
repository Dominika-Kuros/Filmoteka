var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in a){var r=a[e];delete a[e];var n={id:e,exports:{}};return t[e]=n,r.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},e.parcelRequired7c6=r),r("ibbFR");var n=r("fHyLY"),o=r("40lI0"),i=r("g1uI7"),l=r("i1JLZ");i=r("g1uI7"),n=r("fHyLY"),o=r("40lI0");const c=JSON.parse(localStorage.getItem("queue")),s=JSON.parse(localStorage.getItem("watched")),d=document.querySelector("#queue-btn"),u=document.querySelector("#watched-btn");async function v(){let e=await m(s);f(e);const t={total_results:e.length};(0,i.createPagination)(t,"library"),(0,n.removeLoader)()}function f(e,t=2){const a=document.querySelector("#library-gallery");a.innerHTML="",e.forEach((async e=>{const r=(await(0,l.getGenres)(e.id)).map((e=>e.name)),n=(r.length>t?r.slice(0,t).concat(["other"]):r).join(", "),o=`\n      <div data-id=${e.id} class="movie-card">\n        <div class="movie-card__placeholder"><img class="movie-card__image" src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="${e.title}" width="395" height="574"></div>\n        <h2 class="movie-card__tittle">${e.title}</h2>\n        <p class="movie-card__info"> \n        <span class="movie-card__overview">${n}</span> | <span class="movie-card__realease-date">${e.release_date.slice(0,4)}\n    `;a.insertAdjacentHTML("beforeend",o)})),a.addEventListener("click",(e=>{null!==e.target.closest(".movie-card")&&((0,n.showLoader)(),(0,o.showModal)(),(0,o.fetchMovieById)(e.target.closest(".movie-card").dataset.id).then((e=>{(0,o.showModal)(e),(0,o.renderModal)(e),(0,n.removeLoader)()})))}))}async function m(e){return await Promise.all(e.map((async e=>await(0,o.fetchMovieById)(e))))}d.addEventListener("click",(()=>{!async function(){let e=await m(c);f(e);const t={total_results:e.length};(0,i.createPagination)(t,"library"),(0,n.removeLoader)()}()})),u.addEventListener("click",(()=>{v()})),v();
//# sourceMappingURL=library.84a0945d.js.map
